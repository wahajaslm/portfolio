---
import BaseLayout from '../layouts/BaseLayout.astro';
import { getCollection } from 'astro:content';

const experiences = await Promise.all(
  (await getCollection('experience')).map(async (entry) => ({
    entry,
    rendered: await entry.render()
  }))
);
---

<BaseLayout title="Experience" activeNav="resume">
  <section class="article-shell">
    <div class="section-header">
      <p class="label">// EXPERIENCE</p>
      <a href="/Wahaj_Aslam_CV.pdf" download class="btn" aria-label="Download CV PDF">
        DOWNLOAD CV
      </a>
    </div>
    {experiences.map(({ entry, rendered }) => (
      <article style="margin-bottom:3rem;">
        <rendered.Content />
      </article>
    ))}
  </section>
</BaseLayout>
